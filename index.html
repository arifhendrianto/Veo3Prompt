<script>
function translate(word) {
    const dict = {
        "wanita": "woman", "berhijab": "wearing a hijab", "elegan": "elegant",
        "menunjukkan": "showing", "botol": "bottle", "sambal": "chili sauce", "sambil": "while", "tersenyum": "smiling",
        "studio": "studio", "lighting": "lighting", "merah": "red", "dramatis": "dramatic",
        "background": "background", "hitam": "black",
        "cinematic": "cinematic", "kontras tinggi": "high contrast",
        "zoom in": "zoom in", "ke close-up": "into a close-up",
        "close-up": "close-up", "frontal": "frontal", "simetris": "symmetric",
        "dramatis dengan bayangan tajam": "dramatic with sharp shadows",
        "warna": "color", "dominant": "dominant",
        "studio dan klik kamera": "studio ambiance and camera clicks",
        "diketuk ke meja": "tapped on the table",
        "musik chill instrumental": "chill instrumental music",
        "produk ini nyaman digunakan untuk aktivitas harian": "this product is comfortable for daily activities",
        "percaya diri dan ekspresi meyakinkan": "confident and convincing expression",
        "efek cabai meledak": "exploding chili effects",
        "pantulan cahaya": "light reflections",
        // ... kamu bisa tambah lagi sesuai kebutuhan
    };

    return word.split(" ").map(w => dict[w.toLowerCase()] || w).join(" ");
}

async function generatePrompt() {
  const get = id => document.getElementById(id).value.trim();

  const data = {
    subject: get("subject"),
    action: get("action"),
    setting: get("setting"),
    props: get("props"),
    visualStyle: get("visualStyle"),
    camera: get("camera"),
    composition: get("composition"),
    lighting: get("lighting"),
    color: get("color"),
    ambient: get("ambient"),
    sfx: get("sfx"),
    music: get("music"),
    dialogue: get("dialogue"),
    emotion: get("emotion"),
    sequence: get("sequence"),
    details: get("details")
  };

  // translate each field (basic word-by-word)
  const translated = {};
  for (let key in data) {
    translated[key] = translate(data[key]);
  }

  const prompt = `A scene showing ${translated.subject} in ${translated.setting}, ${translated.action}.
The scene includes ${translated.props}, captured in a ${translated.composition} shot with ${translated.lighting} and a color palette of ${translated.color}.
The camera performs ${translated.camera} in a ${translated.visualStyle} style.
Ambient sound: ${translated.ambient}, with SFX: ${translated.sfx} and music: ${translated.music}.
Dialogue: ${translated.dialogue}
The character expresses ${translated.emotion}. Action flow: ${translated.sequence}.
Extra visual details: ${translated.details}.`;

  document.getElementById("output").textContent = prompt;
  localStorage.setItem("veo3_prompt", JSON.stringify(data));
}
</script>
