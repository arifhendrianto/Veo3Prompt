<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Veo 3 Prompt Generator by Arif</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background-color: #f2f2f2;
      color: #333;
    }
    input, textarea, button {
      width: 100%;
      margin: 10px 0;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    #output {
      background: #fff;
      padding: 15px;
      border: 1px solid #ccc;
      margin-top: 20px;
      white-space: pre-wrap;
      border-radius: 4px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-top: 20px;
    }
    .button-group button {
      width: auto;
      margin-right: 10px;
    }
    .dark-mode {
      background-color: #1e1e1e;
      color: #f0f0f0;
    }
    .dark-mode input,
    .dark-mode textarea {
      background-color: #2c2c2c;
      color: #f0f0f0;
      border: 1px solid #444;
    }
    .dark-mode #output {
      background-color: #2c2c2c;
      color: #f0f0f0;
    }
  </style>
</head>
<body>

  <h1>🧠 Veo 3 Prompt Generator</h1>

  <label>Subjek Utama:</label>
  <input id="subject" value="Wanita berhijab elegan">

  <label>Aksi / Gerakan:</label>
  <input id="action" value="Menunjukkan botol sambal sambil tersenyum">

  <label>Setting / Latar:</label>
  <input id="setting" value="Studio dengan lighting merah dramatis">

  <label>Properti Kunci:</label>
  <input id="props" value="Botol sambal, background hitam">

  <label>Gaya Visual:</label>
  <input id="visualStyle" value="Cinematic, kontras tinggi">

  <label>Gerakan Kamera:</label>
  <input id="camera" value="Zoom in ke close-up">

  <label>Komposisi Gambar:</label>
  <input id="composition" value="Close-up frontal, simetris">

  <label>Pencahayaan:</label>
  <input id="lighting" value="Dramatis dengan bayangan tajam">

  <label>Palet Warna:</label>
  <input id="color" value="Merah dan hitam dominan">

  <label>Suara Latar:</label>
  <input id="ambient" value="Suara studio dan klik kamera">

  <label>Efek Suara:</label>
  <input id="sfx" value="Botol diketuk ke meja">

  <label>Musik:</label>
  <input id="music" value="Musik chill instrumental">

  <label>Dialog / Narasi:</label>
  <textarea id="dialogue" rows="3">Wanita: "Produk ini nyaman digunakan untuk aktivitas harian."</textarea>

  <label>Emosi / Ekspresi:</label>
  <input id="emotion" value="Percaya diri dan ekspresi meyakinkan">

  <label>Urutan Aksi:</label>
  <textarea id="sequence" rows="2">Mulai medium shot, lalu zoom in, botol diangkat, logo muncul dari api.</textarea>

  <label>Detail Kecil:</label>
  <input id="details" value="Efek cabai meledak, pantulan cahaya di botol">

  <div class="button-group">
    <button onclick="generatePrompt()">🔮 Buat Prompt</button>
    <button onclick="copyPrompt()">📋 Copy Prompt</button>
    <button onclick="resetForm()">🔄 Reset</button>
    <button onclick="toggleDarkMode()">🌙/☀️ Mode</button>
  </div>

  <h2>🎬 Prompt Output (English):</h2>
  <div id="output"></div>

  <script>
    function g(id) {
      return document.getElementById(id).value.trim();
    }

    function getAllInputs() {
      const ids = ["subject","action","setting","props","visualStyle","camera","composition","lighting","color","ambient","sfx","music","dialogue","emotion","sequence","details"];
      const data = {};
      ids.forEach(id => data[id] = g(id));
      return data;
    }

    async function translateToEnglish(text) {
      const response = await fetch("https://libretranslate.com/translate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          q: text,
          source: "id",
          target: "en",
          format: "text"
        })
      });
      const result = await response.json();
      return result.translatedText;
    }

    async function generatePrompt() {
      const rawPrompt = `Sebuah adegan menunjukkan ${g("subject")} di ${g("setting")}, ${g("action")}.
Adegan ini mencakup ${g("props")}, difilmkan dengan komposisi ${g("composition")} dan pencahayaan ${g("lighting")}, palet warna ${g("color")}.
Kamera melakukan ${g("camera")} dalam gaya ${g("visualStyle")}.
Suara latar: ${g("ambient")}, dengan efek suara: ${g("sfx")}, dan musik: ${g("music")}.
Dialog: ${g("dialogue")}
Ekspresi karakter: ${g("emotion")}. Urutan aksi: ${g("sequence")}.
Detail tambahan: ${g("details")}.`;

      const translated = await translateToEnglish(rawPrompt);
      document.getElementById("output").textContent = translated;
      localStorage.setItem("veo3_prompt", JSON.stringify(getAllInputs()));
    }

    function copyPrompt() {
      const output = document.getElementById("output").textContent;
      navigator.clipboard.writeText(output).then(() => alert("Prompt berhasil disalin!"));
    }

    function resetForm() {
      document.querySelectorAll("input, textarea").forEach(el => el.value = "");
      document.getElementById("output").textContent = "";
      localStorage.removeItem("veo3_prompt");
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
    }

    function loadInputs() {
      const saved = JSON.parse(localStorage.getItem("veo3_prompt"));
      if (!saved) return;
      Object.entries(saved).forEach(([id, val]) => {
        const el = document.getElementById(id);
        if (el) el.value = val;
      });
    }

    window.onload = loadInputs;
  </script>

</body>
</html>
